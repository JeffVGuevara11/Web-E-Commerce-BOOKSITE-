{% extends './index.html' %}

{% block title %} Login {% endblock %}

{% block customCSS %}
<link rel="stylesheet" href="{{ url_for('static', filename= 'css/login.css') }}">
{% endblock %}
{% block body %}
<form class="form-signin" action="/login" method="POST">
    <img class="mb-4" src="{{ url_for('static', filename='img/logo_booksite.png') }}" alt="" width="72" height="57">
    {% with messages = get_flashed_messages() %}

    {% if messages %}
    </br>

    {% for messages in messages %}
    <div class="alert alert-primary alert-dismissible" role="alert">
        <strong>{{ messages }}</strong>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
    {% endfor %}
    {% endif %}

    {% endwith %}

    <form class="form" method="POST" action="{{ url_for('login') }}">
        <p class="form-title">Sign in to your account</p>
    
        <!-- CSRF token para seguridad -->
        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
    
        <!-- Campo de correo/usuario -->
        <div class="input-container">
            <input placeholder="Enter email" type="email" name="username" required>
            <span>
                <svg stroke="currentColor" viewBox="0 0 24 24" fill="none"
                    xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"
                        stroke-width="2" stroke-linejoin="round" stroke-linecap="round"></path>
                </svg>
            </span>
        </div>
    
        <!-- Campo de contraseÃ±a -->
        <div class="input-container">
            <input placeholder="Enter password" type="password" name="password" required>
            <span>
                <svg stroke="currentColor" viewBox="0 0 24 24" fill="none"
                    xmlns="http://www.w3.org/2000/svg">
                    <path d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" stroke-width="2" stroke-linejoin="round"
                        stroke-linecap="round"></path>
                    <path
                        d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"
                        stroke-width="2" stroke-linejoin="round" stroke-linecap="round"></path>
                </svg>
            </span>
        </div>
    
        <button class="submit" type="submit">
            Sign in
        </button>
    
        <p class="signup-link">
            No account?
            <a href="{{ url_for('createUser') }}">Sign up</a>
        </p>
    </form>
<!--
    <form class="form">
        <p class="form-title">Sign in to your account</p>
        <div class="input-container">
            <input placeholder="Enter email" type="email">
            <span>
                <svg stroke="currentColor" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"
                        stroke-width="2" stroke-linejoin="round" stroke-linecap="round"></path>
                </svg>
            </span>
        </div>
        <div class="input-container">
            <input placeholder="Enter password" type="password">

            <span>
                <svg stroke="currentColor" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" stroke-width="2" stroke-linejoin="round"
                        stroke-linecap="round"></path>
                    <path
                        d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"
                        stroke-width="2" stroke-linejoin="round" stroke-linecap="round"></path>
                </svg>
            </span>
        </div>
        <button class="submit" type="submit">
            Sign in
        </button>

        <p class="signup-link">
            No account?
            <a href="">Sign up</a>
        </p>
    </form>

    <h1 class="h3 mb-3 fw-normal">Please sign in</h1>

    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
    <div class="form-floating">
        <input type="text" class="form-control" id="username" name="username" placeholder="Username">
        <label for="username">Username</label>
    </div>
    <div class="form-floating mt-2">
        <input type="password" class="form-control" name="password" placeholder="Password">
        <label for="password">Password</label>
    </div>

    <button class="w-100 btn btn-lg btn-primary" type="submit">Sign in</button>

    <div class="custom-pos">
        <a class="w-100 btn btn-lg btn-primary" href="{{ url_for('createUser') }}">
            Crear una cuenta
        </a>
    </div>
</form>
-->

{% endblock %}